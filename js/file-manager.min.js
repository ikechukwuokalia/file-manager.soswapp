function populateDnav(){let e={},a=0;$.each(param,function(t,o){o.length>0&&(e[t]=o,++a)}),a>0&&$(document).find("#sos-dnav-wrap li a").each(function(a){if("#"!==$(this).attr("href")){let a=$(this).attr("href");$.each(e,function(e,t){url.parse(a,"pathname").indexOf(e)?"type"!==e&&(a=set_get(a,e,t)):a=set_get(a,e,t)}),$(this).attr("href",a)}})}function handleUpload(e){if(sos.fbx.close(),void 0!==e.uploaded_files&&1===object_length(e.uploaded_files)){let a=[];$.each(e.uploaded_files,function(e,t){"image"==t.group&&a.push(t.id)}),1===object_length(a)&&setTimeout(function(){goCrop(a[0])},550)}}function handleCrop(e){"0.0"!==e.status&&0!==object_length(e.errors)||(sos.fbx.close(),"function"==typeof window[param.crp_cb]&&window[param.crp_cb](e))}function goCrop(e,a={}){let t={fid:e,crp_ratio:param.crp_ratio,crp_cb:param.crp_cb,crp_select:param.crp_select,crp_minwidth:param.crp_minwidth};object_length(a)>0&&$.each(a,function(e,a){t[e]=a}),sos.fbx.url(`${location.origin}/file-manager/crop-image`,t,{exitBtn:!0})}"undefined"==typeof io&&(window.io={});const deleteFile=e=>{confirm("Are you sure you want to delete this domain?")&&($("#file-delete-form input[name=id]").val(e),$("#file-delete-form").submit())},fetchFiles=e=>{console.log(e),e&&"0.0"==e.status&&e.files.length>0?($("#file-list").removeClass("no-file"),$("#file-pages, .pages").text(e.pages),$("#file-records").text(e.records),$("#file-page").val(e.page),$(".page").text(e.page),$("#file-limit").val(e.limit),e.has_next_page&&$("#file-next-page").data("page",e.next_page),e.has_previous_page&&$("#file-previous-page").data("page",e.previous_page),$("#file-list").listFiles(e.files),removeAlert()):($("#file-pages, .pages").text(0),$(".page").text(0),$("#file-list").html("").addClass("no-file"))};$.fn.listFiles=function(e){return!1},$.fn.pageFile=function(){let e=parseInt($(this).data("page")),a=parseInt($("#file-page").val());e>0&&e!==a&&($("#file-page").val(e),$("#file-query-form").submit())};const pConf=sos.config.page;function checkPost(e={}){e&&"0.0"===e.status&&setTimeout(function(){removeAlert(),requery()},1800)}const requery=()=>{$("#query-form").length>0&&$("#query-form").submit()};function listFiles(e){console.log(e);let a=$(pConf.datacontainer);if(a.length>0&&e.length>0){a.removeClass("no-result");$.each(e,function(e,a){})}Ã‚}const doFetch=e=>{e&&"0.0"==e.status&&object_length(e[pConf.datasearch])>0?($(".pages-text").text(e.pages),$(".pages-val").val(e.pages),sos.config.page.pages=e.pages,$(".records-text").text(e.records),$(".records-val").val(e.records),sos.config.page.records=e.records,$(".page-val").val(e.page),$(".page-text").text(e.page),sos.config.page.page=e.page,$(".limit-val").val(e.limit),$(".limit-text").text(e.limit),sos.config.page.limit=e.limit,e.has_next_page&&$("#next-page").data("page",e.next_page),sos.config.page.hasNextPage=e.has_next_page,e.has_previous_page&&$("#previous-page").data("page",e.previous_page),sos.config.page.hasPreviousPage=e.has_previous_page,"function"==typeof window[pConf.datahandle]&&window[pConf.datahandle](e[pConf.datasearch]),removeAlert(),pageNatr()):$(`${pConf.datacontainer}`).html("").addClass("no-result"),pageNatr()},pageNatr=()=>{let e=$(`${pConf.datapager}`);pConf.hasPreviousPage?($(document).find("button.prev-page-btn").remove(),e.append($(`<button class='sos-btn face-secondary prev-page-btn' onclick="pageTo(${pConf.page-1});"> <i class="fal fa-2x fa-angle-left"></i></button>`))):$(document).find("button.prev-page-btn").remove(),pConf.hasNextPage?($(document).find("button.next-page-btn").remove(),e.append($(`<button class='sos-btn face-secondary next-page-btn' onclick="pageTo(${pConf.page+1});"> <i class="fal fa-2x fa-angle-right"></i></button>`))):$(document).find("button.next-page-btn").remove()},pageTo=(e=0)=>{e>0&&($(".page-val").val(e),requery())};function doPost(e={}){(e&&"0.0"==e.status||e.errors.length<1)&&("callback"in param&&"function"==typeof window[param.callback]?(faderBox.close(),window[param.callback](data)):setTimeout(function(){faderBox.close(),removeAlert(),requery()},1500))}